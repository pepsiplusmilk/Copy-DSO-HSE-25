# ADR-003: Rate Limiting и Request Timeout для входящих запросов
Дата: 2025-12-18
Статус: Accepted

## Context

API-сервер уязвим к атакам типа Denial of Service (DoS) и abuse со стороны клиентов:

1. **DoS атаки** — злоумышленник может отправлять массу запросов и перегрузить сервер
2. **Resource exhaustion** — медленные клиенты могут держать worker'ы занятыми
3. **Abuse** — легитимные пользователи могут случайно перегрузить API (например, бесконечный цикл в клиенте)
4. **Cascading failures** — отсутствие лимитов на время обработки запроса может привести к зависанию worker'ов

## Decision
- [ ] Установить фреймворк slow api
- [ ] Раелизовать правила ограничений
- [ ] Провести тесты

## Consequences
**Плюсы:** соответствие NFR-06, NFR-07, снижение рисков R-04, R-05. Предотвращение атак на сервер и
его абьза статистическими методами

**Минусы:** не существует уникальной стратегии, иногда может давать false positive результаты => нужна настройка под конкретный домен

## Links
- **NFR-06** (Performance under load): rate limiting предотвращает перегрузку
- **NFR-07** (Availability): таймауты защищают от зависания worker'ов
- **R-05** из RISKS.md: DoS атака — rate limiting ограничивает количество запросов
- **R-04** из RISKS.md: Brute-force — rate limiting усложняет подбор паролей
