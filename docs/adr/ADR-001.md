# ADR-001: Унификация ошибок согласно стандарту RFC 7807
Дата: 2025-12-18
Статус: Accepted

## Context
Текущая система возвращает ошибки в нестандартном формате `{"error": {"code": ..., "message": ...}}`. Это затрудняет интеграцию с клиентами, повышает риски утечки важной информации. NFR-07 требует единообразного формата ошибок с `correlation_id`.

## Decision
- [ ] Перевести все ошибки на RFC 7807 формат с полями: `type`, `title`, `status`, `detail`, `correlation_id`.
- [ ] Модифицировать обработчики исключений в [main.py](src/app/main.py).
- [ ] Покрыть тестами полученные изменения.

## Consequences
**Плюсы:** соответствие NFR-07, трассировка через `correlation_id`, стандартизация

**Минусы:** требует рефакторинга кода

## Links
- NFR-07 (RFC7807 exception format adopting)
- R-07 из RISKS.md (утечка информации через ошибки)
- tests/test_rfc7807.py::test_error_format
